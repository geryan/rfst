---
title: "East Gippsland fire ecoregions"
output: html_notebook
---


```{r}
library(sf)
library(dplyr)
library(tibble)
library(magrittr)
library(lwgeom)

load(file = "output/RData/00_controls.RData")
```


```{r}
rfa <- read_sf("data/shapefiles/RFA/") %>%
  st_transform(28355)

rfa
```
```{r}
plot(rfa["RFA"])
```


```{r}
egipp <- rfa[rfa$NAME == "EAST GIPPSLAND",]
```


```{r}
fire_history <- read_sf("data/shapefiles/DELWP_2019_interim_fire") %>%
  filter(season > 1969) %>%
  filter(firetype == "BUSHFIRE") %>%
  st_transform(28355)
  

fire_history
```

```{r}
ecoregions <- read_sf("data/shapefiles/EGipps_regions/EGipps_regions.shp") %>%
  st_transform(28355) #GDA94 geocentric datum

ecoregions
```

```{r}
glimpse(fire_history)
```

## RFA level stats

```{r}
st_intersects(egipp, , sparse = FALSE)
```


```{r}
fire_years <- unique(fire_history$season)

fire_years <- fire_years[order(fire_years)]
fire_years
```



```{r}
big <- st_polygon(
  list(
    "zz" = rbind(c(0,0), c(10,0), c(10,10), c(0,10), c(0,0))
  )
)


sml <- st_polygon(
  list(
    "aa" = rbind(c(0,0), c(2,0), c(2,2), c(0,2), c(0,0)),
    "bb" = rbind(c(1,1), c(2,1), c(2,2), c(1,2), c(1,1)),
    "cc" = rbind(c(10,0), c(10,10), c(20,10), c(20,0), c(10,0)),
    "dd" = rbind(c(11,0), c(11,1), c(12,1), c(12,0), c(11,0))
  )
)
```


```{r}
st_within(big, sml, sparse = FALSE)
```

